CreateIndex({
  name: 'commentsByEvent',
  source: {
    collection: Collection('eventComments'),
    fields: {
      isReply: Query(
        Lambda(
          'comment',
          ContainsPath(
            ['data', 'commentId'],
            Var('comment')
          )
        )
      )
    }
  },
  terms: [
    { field: ['data', 'eventId'] },
    { binding: 'isReply' }
  ]
});